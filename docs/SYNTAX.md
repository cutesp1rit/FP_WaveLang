# Синтаксис языка Wave

## Определение функций
**Синтаксис:** `имя ~ параметр ~ тело`.

**Пример:**
```wave
double ~ x ~ x * 2
```

## Паттерн-матчинг
**Синтаксис:** `имя ~ параметр` с условиями.

**Пример:**
```wave
factorial ~ n
  n = 0 ~ 1
  _ ~ n * factorial(n - 1)
```

## Арифметические операции
**Синтаксис:** `выражение оператор выражение`.

**Поддерживаемые операторы:** `+`, `-`, `*`, `/`.

**Пример:**
```wave
2 + 3 * 4
```

## Композиция функций
**Синтаксис:** `значение ~ функция1 ~ функция2`

**Описание:** Позволяет компоновать функции в цепочки. Выражение `x ~ f ~ g` эквивалентно `g(f(x))`.

**Пример:**
```wave
double ~ x ~ x * 2
addOne ~ x ~ x + 1

3 ~ double ~ addOne  // Результат: 7 (addOne(double(3)) = addOne(6) = 7)
```

## Списки
**Синтаксис:** `[элементы]`

**Описание:** Позволяет создавать списки элементов. Поддерживаются пустые списки и списки с элементами.

**Примеры:**
```wave
[]           // Пустой список
[1, 2, 3]    // Список чисел
[x, y, z]    // Список идентификаторов
```

## Операции со списками
**Синтаксис:** `[элементы] ~ операции`

**Описание:** Позволяет применять функции к спискам. Выражение `[элементы] ~ функция` эквивалентно `функция([элементы])`.

**Пример:**
```wave
double ~ x ~ x * 2

[1, 2, 3] ~ double  // Результат: double([1, 2, 3])
```

---

## Элементы синтаксиса

### Идентификаторы
- Используются для именования функций и переменных.
- **Пример:** `x`, `factorial`.

### Операторы
- `~` — основной оператор для определения функций и композиции.
- `=` — используется в паттерн-матчинге для проверки условий.
- Арифметические операторы: `+`, `-`, `*`, `/`.

### Скобки
- Круглые скобки `()` — для вызова функций.
- Квадратные скобки `[]` — для создания списков.

---

## Примеры использования

Файл [examples/comprehensive.wave](../examples/comprehensive.wave) демонстрирует все реализованные функции:

```wave
// Определения функций
double ~ x ~ x * 2
addOne ~ x ~ x + 1
square ~ x ~ x * x

// Композиция функций
3 ~ double ~ addOne

// Списки и операции со списками
[1, 2, 3] ~ double
[1, 2, 3, 4, 5] ~ square
```

Все функции языка Wave полностью реализованы в текущей версии.