# Wave Language - Функциональный язык программирования

## О проекте

**Wave** - это минималистичный функциональный язык программирования, в котором всё представлено как преобразования через волны (`~`). Язык прост в синтаксисе, но мощен в функциональности.

Проект был разработан в рамках лабораторной работы по функциональному программированию. Основная цель - создать собственный функциональный язык программирования с уникальным синтаксисом и полной реализацией интерпретатора.

## Особенности языка

### Основные принципы:
1. **Всё есть преобразование** - функции это волны, преобразующие входные данные.
2. **Минимум синтаксиса** - только `~`, `=`, `()`, `[]`, и базовые операторы.
3. **Паттерн-матчинг** через условия.
4. **Композиция** естественная через цепочки волн.

### Примеры синтаксиса:
```wave
// Определение функции
double ~ x ~ x * 2

// Факториал с паттерн-матчингом
factorial ~ n
  n = 0 ~ 1
  _ ~ n * factorial(n - 1)

// Композиция функций
3 ~ double ~ addOne

// Работа со списками
[1, 2, 3] ~ double
```

## Уникальные особенности Wave (планируются к реализации)

1. **Операторы волновой композиции** (этап 2-3):
   - `~~` - строгая композиция.
   - `~>` - ленивая композиция.
   - `|~` - параллельная композиция.

2. **Метапрограммирование** (этап 2):
   ```wave
   defun ~ name ~ params ~ body ~
     name ~ params ~ body
   ```

3. **Визуальный отладчик с волнами** (этап 3, бонус):
   - Показывает поток данных через волны.
   - Анимация вычислений.

## Реализованные функции

- ✅ Определение функций (`имя ~ параметр ~ тело`)
- ✅ Паттерн-матчинг (`имя ~ параметр` с условиями)
- ✅ Арифметические операции (`+`, `-`, `*`, `/`)
- ✅ Композиция функций (`значение ~ функция1 ~ функция2`)
- ✅ Списки (`[1,2,3]`)
- ✅ Операции со списками (`[элементы] ~ операции`)

Полная спецификация синтаксиса доступна в [docs/SYNTAX.md](docs/SYNTAX.md).

## План разработки

Проект разрабатывается в три этапа согласно плану команды:

### Этап 1: Парсер и AST (Дни 1-3) - ЗАВЕРШЕН
**Участник 1 (Максимов Тимофей Степанович)**

**Задачи:**
1. Разработать спецификацию синтаксиса.
2. Создать AST (Abstract Syntax Tree).
3. Реализовать лексер и парсер.
4. Написать тесты для парсера.

**Результаты:**
- ✅ Спецификация синтаксиса разработана и задокументирована
- ✅ AST создан в файле [src/WaveLanguage/AST.fs](src/WaveLanguage/AST.fs)
- ✅ Лексер реализован в файле [src/WaveLanguage/Lexer.fs](src/WaveLanguage/Lexer.fs)
- ✅ Парсер реализован в файле [src/WaveLanguage/Parser.fs](src/WaveLanguage/Parser.fs)
- ✅ Добавлена поддержка всех запланированных функций языка
- ✅ Написаны тесты для парсера в файле [tests/ParserTests.fs](tests/ParserTests.fs)
- ✅ Созданы примеры программ для демонстрации работы

**Контрольные точки:**
- ✅ Все тесты парсера проходят
- ✅ AST корректно строится для всех конструкций

### Этап 2: Интерпретатор (Дни 4-6) - В РАЗРАБОТКЕ
**Участник 2**

**Задачи:**
1. Реализовать вычислитель выражений (evaluator).
2. Создать систему типов (если нужна).
3. Реализовать встроенные функции (арифметика, списки, ввод-вывод).
4. Написать REPL (Read-Eval-Print Loop).

**Контрольные точки:**
- Интерпретатор выполняет базовые программы:
  ```wave
  2 + 3 * 4 ~ 14
  factorial(5) ~ 120
  ```

### Этап 3: Примеры, документация и визуальный отладчик (Дни 7-9) - В РАЗРАБОТКЕ
**Участник 3**

**Задачи:**
1. Написать showcase-примеры (факториал, Фибоначчи, сортировки).
2. Создать полную документацию.
3. Настроить GitHub Pages.
4. Реализовать визуальный отладчик:
   - Графическое представление цепочки преобразований.
   - Лог выполнения с подсветкой текущего шага.
   - Возможность "поставить на паузу" и посмотреть состояние данных.

**Контрольные точки:**
- Примеры программ запускаются.
- Документация полная и понятная.
- Визуальный отладчик работает и отображает шаги выполнения.

## Автор

**Максимов Тимофей Степанович** - Участник 1 (Парсер и AST)

### Что реализовано:
1. Разработал спецификацию синтаксиса языка
2. Создал AST (Abstract Syntax Tree) в файле [src/WaveLanguage/AST.fs](src/WaveLanguage/AST.fs)
3. Реализовал лексер в файле [src/WaveLanguage/Lexer.fs](src/WaveLanguage/Lexer.fs)
4. Реализовал парсер в файле [src/WaveLanguage/Parser.fs](src/WaveLanguage/Parser.fs)
5. Добавил поддержку:
   - Определения функций
   - Паттерн-матчинга
   - Арифметических операций
   - Композиции функций
   - Списков и операций над ними
6. Написал тесты для парсера в файле [tests/ParserTests.fs](tests/ParserTests.fs)
7. Создал примеры программ:
   - [examples/simple.wave](examples/simple.wave) - простое определение функции
   - [examples/factorial.wave](examples/factorial.wave) - факториал с паттерн-матчингом
   - [examples/list.wave](examples/list.wave) - работа со списками
   - [examples/composition.wave](examples/composition.wave) - композиция функций
   - [examples/list_operations.wave](examples/list_operations.wave) - операции со списками
   - [examples/comprehensive.wave](examples/comprehensive.wave) - комплексный пример

### Инструменты разработки:
В процессе разработки использовались современные инструменты программирования, включая помощники на основе искусственного интеллекта для совместной проработки архитектурных решений и написания тестов.

## Запуск проекта

### Требования
- .NET 9.0 SDK

### Сборка проекта
```bash
dotnet build
```

### Запуск примеров
```bash
# Запуск простого примера
dotnet run --project src/WaveLanguage/WaveLanguage.fsproj examples/simple.wave

# Запуск факториала
dotnet run --project src/WaveLanguage/WaveLanguage.fsproj examples/factorial.wave

# Запуск комплексного примера
dotnet run --project src/WaveLanguage/WaveLanguage.fsproj examples/comprehensive.wave
```

### Запуск тестов
```bash
dotnet test tests/WaveLanguage.Tests.fsproj
```

## Структура проекта

```
├── src/WaveLanguage/          # Исходный код языка
│   ├── AST.fs                 # Абстрактное синтаксическое дерево
│   ├── Lexer.fs               # Лексер (токенизатор)
│   ├── Parser.fs              # Парсер
│   └── Program.fs             # Точка входа
├── tests/                     # Тесты
│   ├── ParserTests.fs         # Тесты парсера
│   └── WaveLanguage.Tests.fsproj  # Проект тестов
├── examples/                  # Примеры программ
│   ├── simple.wave            # Простой пример
│   ├── factorial.wave         # Факториал
│   ├── list.wave              # Работа со списками
│   ├── composition.wave       # Композиция функций
│   ├── list_operations.wave   # Операции со списками
│   └── comprehensive.wave     # Комплексный пример
├── docs/                      # Документация
│   └── SYNTAX.md              # Полная спецификация синтаксиса
└── ASSIGNMENT.md              # Исходное задание
```

## Лицензия

Этот проект был создан в образовательных целях в рамках курса по функциональному программированию.